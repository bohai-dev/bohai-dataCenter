<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.bohai.dataCenter.persistence.ReportMediatorMapper" >
  <resultMap id="BaseResultMap" type="com.bohai.dataCenter.entity.ReportMediator" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Aug 01 14:00:39 CST 2017.
    -->
    <result column="MEDIATOR_NO" property="mediatorNo" jdbcType="VARCHAR" />
    <result column="MEDIATOR_NAME" property="mediatorName" jdbcType="VARCHAR" />
    <result column="DEP_NO" property="depNo" jdbcType="VARCHAR" />
    <result column="DEP_NAME" property="depName" jdbcType="VARCHAR" />
    <result column="ORIG_INTEREST" property="origInterest" jdbcType="VARCHAR" />
    <result column="ORIG_EXCHANGE_REBATE" property="origExchangeRebate" jdbcType="VARCHAR" />
    <result column="ORIG_CHARGE" property="origCharge" jdbcType="VARCHAR" />
    <result column="MOD_INTEREST" property="modInterest" jdbcType="VARCHAR" />
    <result column="MOD_EXCHANGE_REBATE" property="modExchangeRebate" jdbcType="VARCHAR" />
    <result column="MOD_CHARGE" property="modCharge" jdbcType="VARCHAR" />
    <result column="REMARK" property="remark" jdbcType="VARCHAR" />
    <result column="REPORT_MONTH" property="reportMonth" jdbcType="VARCHAR" />
  </resultMap>
  <insert id="insert" parameterType="com.bohai.dataCenter.entity.ReportMediator" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Aug 01 14:00:39 CST 2017.
    -->
    insert into T_REPORT_MEDIATOR (MEDIATOR_NO, MEDIATOR_NAME, DEP_NO, 
      DEP_NAME, ORIG_INTEREST, ORIG_EXCHANGE_REBATE, 
      ORIG_CHARGE, MOD_INTEREST, MOD_EXCHANGE_REBATE, 
      MOD_CHARGE, REMARK, REPORT_MONTH
      )
    values (#{mediatorNo,jdbcType=VARCHAR}, #{mediatorName,jdbcType=VARCHAR}, #{depNo,jdbcType=VARCHAR}, 
      #{depName,jdbcType=VARCHAR}, #{origInterest,jdbcType=VARCHAR}, #{origExchangeRebate,jdbcType=VARCHAR}, 
      #{origCharge,jdbcType=VARCHAR}, #{modInterest,jdbcType=VARCHAR}, #{modExchangeRebate,jdbcType=VARCHAR}, 
      #{modCharge,jdbcType=VARCHAR}, #{remark,jdbcType=VARCHAR}, #{reportMonth,jdbcType=VARCHAR}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.bohai.dataCenter.entity.ReportMediator" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Aug 01 14:00:39 CST 2017.
    -->
    insert into T_REPORT_MEDIATOR
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="mediatorNo != null" >
        MEDIATOR_NO,
      </if>
      <if test="mediatorName != null" >
        MEDIATOR_NAME,
      </if>
      <if test="depNo != null" >
        DEP_NO,
      </if>
      <if test="depName != null" >
        DEP_NAME,
      </if>
      <if test="origInterest != null" >
        ORIG_INTEREST,
      </if>
      <if test="origExchangeRebate != null" >
        ORIG_EXCHANGE_REBATE,
      </if>
      <if test="origCharge != null" >
        ORIG_CHARGE,
      </if>
      <if test="modInterest != null" >
        MOD_INTEREST,
      </if>
      <if test="modExchangeRebate != null" >
        MOD_EXCHANGE_REBATE,
      </if>
      <if test="modCharge != null" >
        MOD_CHARGE,
      </if>
      <if test="remark != null" >
        REMARK,
      </if>
      <if test="reportMonth != null" >
        REPORT_MONTH,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="mediatorNo != null" >
        #{mediatorNo,jdbcType=VARCHAR},
      </if>
      <if test="mediatorName != null" >
        #{mediatorName,jdbcType=VARCHAR},
      </if>
      <if test="depNo != null" >
        #{depNo,jdbcType=VARCHAR},
      </if>
      <if test="depName != null" >
        #{depName,jdbcType=VARCHAR},
      </if>
      <if test="origInterest != null" >
        #{origInterest,jdbcType=VARCHAR},
      </if>
      <if test="origExchangeRebate != null" >
        #{origExchangeRebate,jdbcType=VARCHAR},
      </if>
      <if test="origCharge != null" >
        #{origCharge,jdbcType=VARCHAR},
      </if>
      <if test="modInterest != null" >
        #{modInterest,jdbcType=VARCHAR},
      </if>
      <if test="modExchangeRebate != null" >
        #{modExchangeRebate,jdbcType=VARCHAR},
      </if>
      <if test="modCharge != null" >
        #{modCharge,jdbcType=VARCHAR},
      </if>
      <if test="remark != null" >
        #{remark,jdbcType=VARCHAR},
      </if>
      <if test="reportMonth != null" >
        #{reportMonth,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  
  <select id="queryByCondition" parameterType="com.bohai.dataCenter.vo.QueryMediatorReportParamVO" resultMap="BaseResultMap">
        
        select * from T_REPORT_MEDIATOR 
        <where>
            <if test="reportMonth != null and reportMonth != ''">
                and REPORT_MONTH = #{reportMonth}
            </if>
            <if test="mediatorNo != null and mediatorNo != ''">
                and MEDIATOR_NO = #{mediatorNo}
            </if>
            <if test="mediatorName != null and mediatorName != ''">
                and MEDIATOR_NAME = #{mediatorName}
            </if>
            <if test="depNo != null and depNo != ''">
                and DEP_NO = #{depNo}
            </if>
            <if test="isChange != null and isChange != '' and isChange==1">
                and (MOD_INTEREST is not null or MOD_EXCHANGE_REBATE is not null)
            </if>
        </where>
  </select>
  
  <update id="updateByMediatorAndMonth" parameterType="com.bohai.dataCenter.entity.ReportMediator">
    update T_REPORT_MEDIATOR
    <set>
        MOD_INTEREST = #{modInterest},
        MOD_EXCHANGE_REBATE = #{modExchangeRebate},
        REMARK = #{remark}
    </set>
    where REPORT_MONTH = #{reportMonth}
    and MEDIATOR_NO = #{mediatorNo}
  </update>
  
</mapper>